# switches_v10.cmsh - Add switches to BCM 10.x and configure ZTP
# Uncomment and modify the examples below as needed.

cmsh -c "device;add switch bootstrap;set mac 48:B0:2D:00:00:21;set network mgmtnet;set ip 10.1.28.10;set hasclientdaemon yes;set cumulusmode file;set cumulusfile startup.yaml;ztpsettings;set enableapi yes;keyvaluesettings;set CMD_VRF mgmt;commit"
cmsh -c "device initialize bootstrap"
cmsh -c "device;add switch mgmt-leaf-01;set mac 48:B0:2D:00:00:1E;set network mgmtnet;set ip 10.1.28.13;set hasclientdaemon yes;set cumulusmode file;set cumulusfile startup.yaml;ztpsettings;set enableapi yes;keyvaluesettings;set CMD_VRF mgmt;commit"
cmsh -c "device initialize mgmt-leaf-01"
cmsh -c "device;add switch mgmt-leaf-02;set mac 48:B0:2D:00:00:2E;set network mgmtnet;set ip 10.1.28.14;set hasclientdaemon yes;set cumulusmode file;set cumulusfile startup.yaml;ztpsettings;set enableapi yes;keyvaluesettings;set CMD_VRF mgmt;commit"
cmsh -c "device initialize mgmt-leaf-02"
cmsh -c "device;add switch spine-01;set mac 48:B0:2D:00:00:12;set network mgmtnet;set ip 10.1.28.15;set hasclientdaemon yes;set cumulusmode file;set cumulusfile startup.yaml;ztpsettings;set enableapi yes;keyvaluesettings;set CMD_VRF mgmt;commit"
cmsh -c "device initialize spine-01"
cmsh -c "device;add switch spine-02;set mac 48:B0:2D:00:00:14;set network mgmtnet;set ip 10.1.28.16;set hasclientdaemon yes;set cumulusmode file;set cumulusfile startup.yaml;ztpsettings;set enableapi yes;keyvaluesettings;set CMD_VRF mgmt;commit"
cmsh -c "device initialize spine-02"
cmsh -c "device;add switch leaf-01;set mac 48:b0:2d:00:00:16;set network mgmtnet;set ip 10.1.28.11;set hasclientdaemon yes;set cumulusmode file;set cumulusfile startup.yaml;ztpsettings;set enableapi yes;keyvaluesettings;set CMD_VRF mgmt;commit"
cmsh -c "device initialize leaf-01"
cmsh -c "device;add switch leaf-02;set mac 48:B0:2D:00:00:18;set network mgmtnet;set ip 10.1.28.12;set hasclientdaemon yes;set cumulusmode file;set cumulusfile startup.yaml;ztpsettings;set enableapi yes;keyvaluesettings;set CMD_VRF mgmt;commit"
cmsh -c "device initialize leaf-02"